document.addEventListener("DOMContentLoaded",function(){fetch("https://evsuae.com/blogs.xml").then(e=>e.text()).then(e=>{e=(new DOMParser).parseFromString(e,"application/xml"),e=Array.from(e.getElementsByTagName("blog"));e.sort((e,t)=>{e=new Date(e.getElementsByTagName("publisheddate")[0]?.textContent||0);return new Date(t.getElementsByTagName("publisheddate")[0]?.textContent||0)-e});let r=document.getElementById("side-bar-posts");r.innerHTML="",e.slice(0,6).forEach(e=>{var t=e.getElementsByTagName("blogtitle")[0]?.textContent||"No Title",a=e.getElementsByTagName("blogurl")[0]?.textContent||"#",n=e.getElementsByTagName("blogimage")[0]?.textContent||"default.jpg",l=(e=>{var t,a=new Date(e);return isNaN(a)?e:(e=String(a.getDate()).padStart(2,"0"),t=String(a.getMonth()+1).padStart(2,"0"),a=a.getFullYear(),e+`/${t}/`+a)})(e.getElementsByTagName("publisheddate")[0]?.textContent||"Unknown Date"),e=(e.getElementsByTagName("author")[0]?.textContent,e.getElementsByTagName("category")[0]?.textContent,e.getElementsByTagName("blurb")[0]?.textContent,`
                                <li class="d-flex align-items-center">
                                    <figure class="me-3 d-flex align-items-center">
                                         <a href="${a}"><img loading="lazy" src="${n}&q=70&w=320" aria-label="Read more about ${t}" class="border-radius-6px d-block" alt="${t}" width="297" height="414"/></a>
                                    </figure>
                                    <div class="col media-body">
                                        <a href="${a}" class="fw-600 fs-17 text-white d-inline-block mb-10px" aria-label="Read more about ${t}">${t}</a>
                                        <div><a href="${a}" class="d-inline-block text-light-gray fs-15" aria-label="Read more about ${t}">${l}</a></div>
                                    </div>
                                </li>
        `);r.innerHTML+=e})}).catch(e=>{console.error("Error fetching or processing XML:",e),document.getElementById("loader").textContent="ما قدرنا نحمّل المقالات. حاول مرة ثانية بعدين."})});