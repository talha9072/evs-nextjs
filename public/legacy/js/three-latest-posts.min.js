document.addEventListener("DOMContentLoaded",function(){fetch("https://evsuae.com/blogs.xml").then(e=>e.text()).then(e=>{e=(new DOMParser).parseFromString(e,"application/xml"),e=Array.from(e.getElementsByTagName("blog"));e.sort((e,t)=>{e=new Date(e.getElementsByTagName("publisheddate")[0]?.textContent||0);return new Date(t.getElementsByTagName("publisheddate")[0]?.textContent||0)-e});let o=document.getElementById("blog-container");o.innerHTML="",e.slice(0,3).forEach(e=>{var t=e.getElementsByTagName("blogtitle")[0]?.textContent||"No Title",a=e.getElementsByTagName("blogurl")[0]?.textContent||"#",n=e.getElementsByTagName("blogimage")[0]?.textContent||"default.jpg",r=(e=>{var t,a=new Date(e);return isNaN(a)?e:(e=String(a.getDate()).padStart(2,"0"),t=String(a.getMonth()+1).padStart(2,"0"),a=a.getFullYear(),e+`/${t}/`+a)})(e.getElementsByTagName("publisheddate")[0]?.textContent||"Unknown Date"),l=e.getElementsByTagName("author")[0]?.textContent||"Anonymous",n=`
          <div class="col-lg-4 col-md-6">
            <div class="card border-0 border-radius-4px box-shadow-extra-large box-shadow-extra-large-hover">
              <div class="blog-image">
                <a href="${a}" class="d-block">
                  <img loading="lazy" src="${n}&q=70&w=640" 
                    srcset="
                      ${n}&q=70&w=320 320w,
                      ${n}&q=70&w=500 500w,
                      ${n}&q=70&w=768 768w
                    " width="367" height="245" alt="${t}" />
                </a>
                <div class="blog-categories">
                  <a href="${a}" class="categories-btn bg-white text-dark-gray text-black-hover text-uppercase alt-font fw-700">${e.getElementsByTagName("category")[0]?.textContent||"Uncategorized"}</a>
                </div>
              </div>
              <div class="card-body p-12">
                <a href="${a}" class="card-title mb-15px fw-600 fs-17 lh-26 text-dark-gray text-black-hover d-inline-block">${t}</a>
                <p class="text-dark-gray ">${e.getElementsByTagName("blurb")[0]?.textContent||""}</p>
                <div class="author d-flex justify-content-center align-items-center position-relative overflow-hidden fs-14 text-uppercase">
                  <div class="me-auto">
                    <span class="text-dark-gray blog-date fw-500 d-inline-block">${r}</span>
                    <div class="text-dark-gray d-inline-block author-name">By <a href="${a}" class="text-dark-gray text-black-hover text-decoration-line-bottom fw-600">${l}</a></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `;o.innerHTML+=n})}).catch(e=>{console.error("Error fetching or processing XML:",e),document.getElementById("loader").textContent="Failed to load blogs. Please try again later."})});