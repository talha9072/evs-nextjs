document.addEventListener("DOMContentLoaded",function(){let c=1;fetch("https://evsuae.com/blogs.xml").then(e=>e.text()).then(e=>{e=(new DOMParser).parseFromString(e,"application/xml");let o=Array.from(e.getElementsByTagName("blog")),s=(o.sort((e,t)=>{e=new Date(e.getElementsByTagName("publisheddate")[0]?.textContent||0);return new Date(t.getElementsByTagName("publisheddate")[0]?.textContent||0)-e}),Math.ceil(o.length/12));function r(){let l=document.getElementById("blog-container");l.innerHTML="";var e=12*(c-1),t=Math.min(12+e,o.length),a=(o.slice(e,t).forEach(e=>{var t=e.getElementsByTagName("blogtitle")[0]?.textContent||"No Title",a=e.getElementsByTagName("blogurl")[0]?.textContent||"#",n=e.getElementsByTagName("blogimage")[0]?.textContent||"default.jpg",n=`
            <div class="col-xl-3 col-lg-4 col-md-6 mb-3">
              <figure class="position-relative mb-0 box-hover">
                <div class="blog-image">
                  <img loading="lazy" src="${n}&q=70&w=640" 
                    srcset="
                      ${n}&q=70&w=320 320w,
                      ${n}&q=70&w=500 500w,
                      ${n}&q=70&w=768 768w
                    " alt="${t}" width="297" height="414" />
                  <span class="box-overlay"></span>
                  <span class="bg-gradient-gray-light-dark-transparent position-absolute opacity-6 top-0px left-0px w-100 h-100"></span>
                </div>
                <figcaption class="d-flex flex-column h-100">
                  <div class="my-auto w-100 text-center blog-hover-icon"><a href="${a}" aria-label="Read more about ${t}" class="d-inline-block"><i class="line-icon-Arrow-OutRight icon-extra-large text-white"></i></a></div>
                  <div class="position-relative post-content p-14 text-center last-paragraph-no-margin">
                    <div class="position-relative z-index-2 overflow-hidden">
                      <a href="${a}" aria-label="Read more about ${t}" class="d-inline-block fs-15 text-base-color mb-20px text-uppercase fw-600">${(e=>{var t,a=new Date(e);return isNaN(a)?e:(e=String(a.getDate()).padStart(2,"0"),t=String(a.getMonth()+1).padStart(2,"0"),a=a.getFullYear(),e+`/${t}/`+a)})(e.getElementsByTagName("publisheddate")[0]?.textContent||"Unknown Date")}</a>
                      <a href="${a}"  aria-label="Read more about ${t}" class="card-title fs-20 alt-font fw-500 text-white mb-0 d-block">${t}</a>
                      <div class="hover-text"><a href="${a}" class="btn btn-link-gradient btn-medium text-white thin mt-20px mb-5px opacity-6 fw-300">Continue reading<span class="bg-white"></span></a></div>
                    </div>
                    <div class="box-overlay"></div>
                  </div>
                </figcaption>
              </figure>
            </div>
          `;l.innerHTML+=n}),s),e=document.getElementById("pagination"),n=(e.innerHTML="",document.createElement("ul")),t=(n.className="pagination pagination-style-01 fs-13 fw-500 mb-0",document.createElement("li"));t.className="page-item "+(1===c?"disabled":""),t.innerHTML='<a class="page-link" href="#"><i class="feather icon-feather-arrow-left fs-18 d-xs-none"></i></a>',t.onclick=()=>{1<c&&(c--,r())},n.appendChild(t);for(let e=1;e<=a;e++){var i=document.createElement("li");i.className="page-item "+(e===c?"active":""),i.innerHTML=`<a class="page-link" href="#">${String(e).padStart(2,"0")}</a>`,i.onclick=()=>{c=e,r()},n.appendChild(i)}(t=document.createElement("li")).className="page-item "+(c===a?"disabled":""),t.innerHTML='<a class="page-link" href="#"><i class="feather icon-feather-arrow-right fs-18 d-xs-none"></i></a>',t.onclick=()=>{c<a&&(c++,r())},n.appendChild(t),e.appendChild(n)}r()}).catch(e=>{console.error("Error fetching or processing XML:",e),document.getElementById("loader").textContent="Failed to load blogs. Please try again later."})});